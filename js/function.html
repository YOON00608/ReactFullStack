<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수</title>
</head>
<body>
    <script>
        // 함수(function)
        // 특정 작업을 수행하도록 묶은 재사용 가능한 코드블록
        /*
            function 함수명(매개변수){
                명령
                return 반환값;
            }
        */

        // 두 수를 더하여 반환하는 add 함수
        function add(x,y){
            return x + y;
        }

        add(10,7);
        console.log(add(10,7));

        console.log("------------------------")

        // 선언문 형식
        function f1(name){
            return `안녕, ${name}`;
        }

        // 함수 표현식
        let f2 = function(name){
            return `안녕, ${name}`;
        }

        // 화살표 함수
        let f3 = (name) => {return `안녕, ${name}`};
        // {}와 return을 함께 생략할 수 있다.

        let f4 = name => `안녕, ${name}`;

        // 매개변수
        // - > 함수를 정의할 때 사용하는 변수
        // 인자
        // - > 함수를 호출할 때 전달하는 값

        // ///////////////////////////

        // default 매개변수
        // 전달된 인자가 없을 때 함수 내부로 전달되는 기본값

        function power(x, n=2){
            return x ** n;
        }

        power(power(10,3));

        // 반환값과 조기종료
        // 함수 안에서 return을 만나게 되면 함수를 즉시 종료하고
        // 값을 돌려준다.
        // 반환값을 명시하지 않으면 undefiend를 반환한다. 

        function isAdult(age){
            if(age >= 19){
                return true;
            } else {
                return falsel
            }
        }

        console.log(isAdult(20));
        
        console.log("------------------------")

        // 배열을 인자로 전달하여 평균을 반환하는 arrayAvg 함수 작성하기
        // 인자로 전달된 값이 배열이 아니거나 길이가 0이면 0을 반환하기
        // Arry.isArray(배열) -> 배열인지 아닌지 판단
        // 배열.length -> 배열의 길이

        function arrayAvg(arr) {
    
        if (!Array.isArray(arr)) return 0;
        if (arr.length === 0) return 0;

        const sum = arr.reduce((acc, v) => acc + v, 0);
        return sum / arr.length;
        }

        console.log(arrayAvg([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]));        
        
        console.log("------------------------")

        // 사용자 정보 관리 객체 만들기
        // userManager라는 객체를 만든다.
        // 이 객체는 배열과 메서드를 이용해서 사용자 정보를 관리한다.
        // 속성 : users(사용자 목록을 담는 배열. 각 요소는 {name,age}형태의 객체이다.)
        // 메서드 :
        // - addUser(name,age) : 이름과 나이를 받아 배열에 새 사용자 객체를 추가하고
        // "사용자 추가 : 이름(나이)" 를 출력한다.
        // - printAll() : users 배열에 있는 모든 사용자의 이름과 나이를 한 줄씩 출력한다.
        // - findUser(name) : 이름이 일치하는 사용자를 찾아 "찾음 : 이름(나이)"를
        // 출력하고 없으면 "사용자를 찾을 수 없습니다." 를 출력한다.

        const userManager = {
            user: [],

            addUser(name,age){
                this.user.push({name,age});
                console.log(`사용자 추가: ${name}(${age})`);
            },

            printAll(){
                this.user.forEach(user => {
                    console.log(`${user.name}(${user.age})`);
                });
            },

            findUser(name){
                const user = this.user.find(u => u.name === name);

                if (user){
                    console.log(`찾음 : ${user.name}(${user.age})`);
                } else {
                    console.log("사용자를 찾을 수 없습니다.");
                }
            }
        };

        userManager.addUser("홍길동", 20);
        userManager.addUser("김철수", 30);

        userManager.printAll();

        userManager.findUser("홍길동");
        userManager.findUser("윤혜리");

        console.log("------------------------")
    </script>
</body>
</html>