<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실시간 검색어 미리보기</title>
</head>
<body>
    <!-- 실시간 검색어 미리보기 
     1. 검색어 input에 글자를 입력하면 아래에 "실시간 미리보기"를 준다.
     2. 아래에 최근 검색어 목록이 있고, 항목을 클릭하면 input에 해당 검색어가 다시 채워진다.
     3. 최근 검색어 리스트는 나중에 동적으로 계속 추가되지만, 이벤트는 한 번만 걸고싶다.-->

     <input id="search-input" placeholder="검색어를 입력하세요.">
     <p id="preview">검색어 미리보기 : (없음)</p>

     <h3>최근 검색어</h3>
     <ul id ="recent-list">
        <!-- 예: <li>React</li> 이런 형태로 계속 추가된다고 가정 -->
     </ul>

     <button id="add-recent">현재 검색어를 최근 검색어에 추가</button>

     <script>
        const input = document.querySelector("#search-input");
        const preview = document.querySelector("#preview");
        const recentList = document.querySelector("#recent-list");
        const addBtn = document.querySelector("#add-recent");

        // 1
        input.addEventListener("input", function(){
            const text = input.value.trim();
            preview.textContent = text
            ? `검색어 미리보기 : ${text}`
            : "검색어 미리보가 : (없음)";
        });

        // 2
        addBtn.addEventListener("click",function(){
            const text = input.value.trim();
            if (!text) return;

            const li = document.createElement("li");
            li.textContent = text;

            recentList.prepend(li);
        });

        // 3
        recentList.addEventListener("click",function(event){
            const target = event.target;

            if (target.tagName === "LI"){
                input.value=target.textContent;
                preview.textContent = `검색어 미리보기 : ${target.textContent}`;
            }
        });
     </script>
</body>
</html>