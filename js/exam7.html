<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>jsonplaceholder</h1>
    <button id = "loadPostBtn">게시글 1개 불러오기</button>
    <h2>결과</h2>
    <div id = "result"></div>
    <hr>
    <button id = "loadPostBtn">게시글 5개 불러오기</button>
    <ul id="postList"></ul>

    <script>
        // 가상의 서버 역할 -> jsonplaceholder
        // 요청 주소 -> 'https://jsonplaceholder.typicode.com/posts/1'
        
        // 버튼을 눌렀을 때 jsonplaceholder에게 게시글 1건을 달라고 요청하여
        // json()메서드가 parse()와 같은 역할을 한다.
        // ID: xxx
        // 제목 : xxx 
        // 내용 : xxx
        // 형태로 출력하기

        // 버튼을 눌렀을 때 게시글 5개의 제목만 리스트의 li로 넣기
        // 요청주소 -> https://jsonplaceholder.typicode.com/posts?_limit=5

        const btn1 = document.getElementById("loadPostBtn");
        const resultDiv = document.getElementById("result");

        const btn2 = document.querySelectorAll("#loadPostBtn")[1]; 
        const postList = document.getElementById("postList");

        // 게시글 1개 불러오기
        btn1.addEventListener("click", () => {

        fetch("https://jsonplaceholder.typicode.com/posts/1")
            .then(res => res.json())
            .then(data => {
                resultDiv.innerHTML = `
                    <div><strong>ID:</strong> ${data.id}</div>
                    <div><strong>제목:</strong> ${data.title}</div>
                    <div><strong>내용:</strong> ${data.body}</div>
                `;
            })
        });

        // 게시글 5개 제목만 리스트로 출력
        btn2.addEventListener("click", () => {

        fetch("https://jsonplaceholder.typicode.com/posts?_limit=5")
            .then(res => res.json())
            .then(data => {

                postList.innerHTML = ""; 

                data.forEach(post => {
                    const li = document.createElement("li");
                    li.textContent = post.title; 
                    postList.appendChild(li);
                });

            })
        });
    </script>
</body>
</html>